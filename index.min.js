function tinyMap(t,e){function a(t){var e=Math.PI/180,a=Math.max(Math.min(n,t[1]),-n),i=Math.sin(a*e);return[o*t[0]*e,o*Math.log((1+i)/(1-i))/2]}t.style.cssText="position:relative;overflow:hidden";for(var o=6378137,n=85.0511287798,i=function(t,e){var n=a(t),i=256*Math.pow(2,e),r=.5/(Math.PI*o);return n[0]=i*(r*n[0]+.5),n[1]=i*(-r*n[1]+.5),n}(e.center,e.zoom),r=e.size||[t.offsetWidth,t.offsetHeight],s=[r[0]/2,r[1]/2],h=[(i[0]-s[0])/256|0,(i[1]-s[1])/256|0],l=[(i[0]+s[0])/256+1|0,(i[1]+s[1])/256+1|0],p=h[1];p<l[1];p++)for(var c=h[0];c<l[0];c++){var f=new Image;f.style.cssText="position: absolute;left:"+(s[0]+256*c-i[0]|0)+"px;top:"+(s[1]+256*p-i[1]|0)+"px;width:256px;height:256px",f.src=function(t,a){return e.tileUrl.replace("{s}",e.subdomains[Math.abs(t+a)%e.subdomains.length]).replace("{x}",t).replace("{y}",a).replace("{z}",e.zoom)}(c,p),t.appendChild(f)}}