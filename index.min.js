function tinyMap(t,e){function a(t){var e=Math.PI/180,a=Math.max(Math.min(o,t[1]),-o),r=Math.sin(a*e);return[n*t[0]*e,n*Math.log((1+r)/(1-r))/2]}for(var n=6378137,o=85.0511287798,r=function(t,e){var o=a(t),r=256*Math.pow(2,e),i=.5/(Math.PI*n);return o[0]=r*(i*o[0]+.5),o[1]=r*(-i*o[1]+.5),o}(e.center,e.zoom),i=e.size||[t.offsetWidth,t.offsetHeight],s=[i[0]/2,i[1]/2],h=[(r[0]-s[0])/256|0,(r[1]-s[1])/256|0],p=[(r[0]+s[0])/256+1|0,(r[1]+s[1])/256+1|0],l=h[1];l<p[1];l++)for(var c=h[0];c<p[0];c++){var f=new Image;f.style.cssText="position: absolute;left:"+(s[0]+256*c-r[0]|0)+"px;top:"+(s[1]+256*l-r[1]|0)+"px;width:256px;height:256px",f.src=function(t,a){return e.tileUrl.replace("{s}",e.subdomains[Math.abs(t+a)%e.subdomains.length]).replace("{x}",t).replace("{y}",a).replace("{z}",e.zoom)}(c,l),t.appendChild(f)}}